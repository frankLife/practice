<!DOCTYPE html>
<html lang="en">
<head>
<title>subclass</title>
</head>
<body>
<script>
  (function(){
  Object.subClass = function(fns){
    var proto = new this();
    for(var i in fns) {
      if(typeof fns[i] == 'function' || 
         typeof proto[i] == 'function' ||
         /_super/.test(fns[i]) ) {
          proto[i] = (function(i){
            return function(){
              var temp = this._super;
              this._super = proto[i];
              var ret = this._super.apply(this)
              this._super = temp;
              return ret;
            }
          })(i)
      }else {
        proto[i] = fns[i];
      }
    }

    function Class() {
      this['init'] && this['init'](arguments);
    }
    Class.constructor = this;
    Class.prototype = proto;
    Class.subClass = Object.subClass;
    return Class;
  }
})()
 var Person = Object.subClass({                          
    init: function(isDancing) { 
      this.dancing = isDancing; 
    }, 
    dance: function() { 
      return this.dancing; 
    } 
  });
</script>
</body>
</html>